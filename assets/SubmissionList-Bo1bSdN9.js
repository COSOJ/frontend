import{r as a,ab as K,ac as xt,K as _e,W as p,ad as yt,ae as B,A as M,af as $e,Z as Ve,ag as Q,ah as pe,G as Ge,ai as pt,aj as we,ak as je,al as St,am as $t,B as ue,N as wt,H as Se,an as qe,ao as jt,a4 as Ue,q as Ot,ap as Pt,x as I,t as Et,w as It,aq as Tt,ar as Nt,y as fe,as as Xe,at as Rt,au as Oe,av as Mt,aw as zt,ax as Bt,ay as Lt,az as me,aA as Ft,aB as Dt,aC as Ht,aD as Ke,aE as At,aF as Wt,R as _t,a1 as Vt,a3 as Gt,a2 as qt,aG as Ut,aH as Xt,J as Kt,aI as Zt,c as Qt,j as s,C as he,S as H,I as Jt,aJ as Yt,T as kt,s as Pe,o as be}from"./index-DVaeyBTm.js";import{a as Ee,s as _,R as Ie,P as en,S as tn}from"./submissionService-DTQdAE6D.js";import{A as Ze,F as nn,R as on}from"./EyeOutlined-CjQoFsdN.js";import{D as V}from"./index-BIWzZM5d.js";import{T as de}from"./index-DdWqUUoB.js";import{R as Te}from"./DatabaseOutlined-CiBTwyj4.js";function an(){const[e,t]=a.useState([]),o=a.useCallback(n=>(t(r=>[].concat(K(r),[n])),()=>{t(r=>r.filter(u=>u!==n))}),[]);return[e,o]}const rn=new _e("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),ln=new _e("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),sn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:o}=e,n=`${o}-fade`,r=t?"&":"";return[xt(n,rn,ln,e.motionDurationMid,t),{[`
        ${r}${n}-enter,
        ${r}${n}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${r}${n}-leave`]:{animationTimingFunction:"linear"}}]},ie=p.createContext({}),{Provider:Qe}=ie,Ne=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:o,isSilent:n,mergedOkCancel:r,rootPrefixCls:u,close:f,onCancel:m,onConfirm:c}=a.useContext(ie);return r?p.createElement(Ze,{isSilent:n,actionFn:m,close:function(){f==null||f.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${u}-btn`},o):null},Re=()=>{const{autoFocusButton:e,close:t,isSilent:o,okButtonProps:n,rootPrefixCls:r,okTextLocale:u,okType:f,onConfirm:m,onOk:c}=a.useContext(ie);return p.createElement(Ze,{isSilent:o,type:f||"primary",actionFn:c,close:function(){t==null||t.apply(void 0,arguments),m==null||m(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${r}-btn`},u)};var Je=a.createContext({});function Me(e,t,o){var n=t;return!n&&o&&(n="".concat(e,"-").concat(o)),n}function ze(e,t){var o=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof o!="number"){var r=e.document;o=r.documentElement[n],typeof o!="number"&&(o=r.body[n])}return o}function cn(e){var t=e.getBoundingClientRect(),o={left:t.left,top:t.top},n=e.ownerDocument,r=n.defaultView||n.parentWindow;return o.left+=ze(r),o.top+=ze(r,!0),o}const dn=a.memo(function(e){var t=e.children;return t},function(e,t){var o=t.shouldUpdate;return!o});var un={width:0,height:0,overflow:"hidden",outline:"none"},mn={outline:"none"},Ye=p.forwardRef(function(e,t){var o=e.prefixCls,n=e.className,r=e.style,u=e.title,f=e.ariaId,m=e.footer,c=e.closable,v=e.closeIcon,i=e.onClose,g=e.children,d=e.bodyStyle,b=e.bodyProps,$=e.modalRender,h=e.onMouseDown,C=e.onMouseUp,y=e.holderRef,x=e.visible,O=e.forceRender,j=e.width,P=e.height,w=e.classNames,l=e.styles,S=p.useContext(Je),T=S.panel,E=yt(y,T),G=a.useRef(),J=a.useRef();p.useImperativeHandle(t,function(){return{focus:function(){var L;(L=G.current)===null||L===void 0||L.focus({preventScroll:!0})},changeActive:function(L){var ae=document,ne=ae.activeElement;L&&ne===J.current?G.current.focus({preventScroll:!0}):!L&&ne===G.current&&J.current.focus({preventScroll:!0})}}});var z={};j!==void 0&&(z.width=j),P!==void 0&&(z.height=P);var F=m?p.createElement("div",{className:M("".concat(o,"-footer"),w==null?void 0:w.footer),style:B({},l==null?void 0:l.footer)},m):null,D=u?p.createElement("div",{className:M("".concat(o,"-header"),w==null?void 0:w.header),style:B({},l==null?void 0:l.header)},p.createElement("div",{className:"".concat(o,"-title"),id:f},u)):null,q=a.useMemo(function(){return $e(c)==="object"&&c!==null?c:c?{closeIcon:v??p.createElement("span",{className:"".concat(o,"-close-x")})}:{}},[c,v,o]),U=Ve(q,!0),Y=$e(c)==="object"&&c.disabled,oe=c?p.createElement("button",Q({type:"button",onClick:i,"aria-label":"Close"},U,{className:"".concat(o,"-close"),disabled:Y}),q.closeIcon):null,k=p.createElement("div",{className:M("".concat(o,"-content"),w==null?void 0:w.content),style:l==null?void 0:l.content},oe,D,p.createElement("div",Q({className:M("".concat(o,"-body"),w==null?void 0:w.body),style:B(B({},d),l==null?void 0:l.body)},b),g),F);return p.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":u?f:null,"aria-modal":"true",ref:E,style:B(B({},r),z),className:M(o,n),onMouseDown:h,onMouseUp:C},p.createElement("div",{ref:G,tabIndex:0,style:mn},p.createElement(dn,{shouldUpdate:x||O},$?$(k):k)),p.createElement("div",{tabIndex:0,ref:J,style:un}))}),ke=a.forwardRef(function(e,t){var o=e.prefixCls,n=e.title,r=e.style,u=e.className,f=e.visible,m=e.forceRender,c=e.destroyOnClose,v=e.motionName,i=e.ariaId,g=e.onVisibleChanged,d=e.mousePosition,b=a.useRef(),$=a.useState(),h=pe($,2),C=h[0],y=h[1],x={};C&&(x.transformOrigin=C);function O(){var j=cn(b.current);y(d&&(d.x||d.y)?"".concat(d.x-j.left,"px ").concat(d.y-j.top,"px"):"")}return a.createElement(Ge,{visible:f,onVisibleChanged:g,onAppearPrepare:O,onEnterPrepare:O,forceRender:m,motionName:v,removeOnLeave:c,ref:b},function(j,P){var w=j.className,l=j.style;return a.createElement(Ye,Q({},e,{ref:t,title:n,ariaId:i,prefixCls:o,holderRef:P,style:B(B(B({},l),r),x),className:M(u,w)}))})});ke.displayName="Content";var fn=function(t){var o=t.prefixCls,n=t.style,r=t.visible,u=t.maskProps,f=t.motionName,m=t.className;return a.createElement(Ge,{key:"mask",visible:r,motionName:f,leavedClassName:"".concat(o,"-mask-hidden")},function(c,v){var i=c.className,g=c.style;return a.createElement("div",Q({ref:v,style:B(B({},g),n),className:M("".concat(o,"-mask"),i,m)},u))})},gn=function(t){var o=t.prefixCls,n=o===void 0?"rc-dialog":o,r=t.zIndex,u=t.visible,f=u===void 0?!1:u,m=t.keyboard,c=m===void 0?!0:m,v=t.focusTriggerAfterClose,i=v===void 0?!0:v,g=t.wrapStyle,d=t.wrapClassName,b=t.wrapProps,$=t.onClose,h=t.afterOpenChange,C=t.afterClose,y=t.transitionName,x=t.animation,O=t.closable,j=O===void 0?!0:O,P=t.mask,w=P===void 0?!0:P,l=t.maskTransitionName,S=t.maskAnimation,T=t.maskClosable,E=T===void 0?!0:T,G=t.maskStyle,J=t.maskProps,z=t.rootClassName,F=t.classNames,D=t.styles,q=a.useRef(),U=a.useRef(),Y=a.useRef(),oe=a.useState(f),k=pe(oe,2),Z=k[0],L=k[1],ae=pt();function ne(){we(U.current,document.activeElement)||(q.current=document.activeElement)}function ge(){if(!we(U.current,document.activeElement)){var N;(N=Y.current)===null||N===void 0||N.focus()}}function ve(N){if(N)ge();else{if(L(!1),w&&q.current&&i){try{q.current.focus({preventScroll:!0})}catch{}q.current=null}Z&&(C==null||C())}h==null||h(N)}function re(N){$==null||$(N)}var X=a.useRef(!1),le=a.useRef(),W=function(){clearTimeout(le.current),X.current=!0},ce=function(){le.current=setTimeout(function(){X.current=!1})},ee=null;E&&(ee=function(Ce){X.current?X.current=!1:U.current===Ce.target&&re(Ce)});function ht(N){if(c&&N.keyCode===je.ESC){N.stopPropagation(),re(N);return}f&&N.keyCode===je.TAB&&Y.current.changeActive(!N.shiftKey)}a.useEffect(function(){f&&(L(!0),ne())},[f]),a.useEffect(function(){return function(){clearTimeout(le.current)}},[]);var bt=B(B(B({zIndex:r},g),D==null?void 0:D.wrapper),{},{display:Z?null:"none"});return a.createElement("div",Q({className:M("".concat(n,"-root"),z)},Ve(t,{data:!0})),a.createElement(fn,{prefixCls:n,visible:w&&f,motionName:Me(n,l,S),style:B(B({zIndex:r},G),D==null?void 0:D.mask),maskProps:J,className:F==null?void 0:F.mask}),a.createElement("div",Q({tabIndex:-1,onKeyDown:ht,className:M("".concat(n,"-wrap"),d,F==null?void 0:F.wrapper),ref:U,onClick:ee,style:bt},b),a.createElement(ke,Q({},t,{onMouseDown:W,onMouseUp:ce,ref:Y,closable:j,ariaId:ae,prefixCls:n,visible:f&&Z,onClose:re,onVisibleChanged:ve,motionName:Me(n,y,x)}))))},et=function(t){var o=t.visible,n=t.getContainer,r=t.forceRender,u=t.destroyOnClose,f=u===void 0?!1:u,m=t.afterClose,c=t.panelRef,v=a.useState(o),i=pe(v,2),g=i[0],d=i[1],b=a.useMemo(function(){return{panel:c}},[c]);return a.useEffect(function(){o&&d(!0)},[o]),!r&&f&&!g?null:a.createElement(Je.Provider,{value:b},a.createElement(St,{open:o||r||g,autoDestroy:!1,getContainer:n,autoLock:o||g},a.createElement(gn,Q({},t,{destroyOnClose:f,afterClose:function(){m==null||m(),d(!1)}}))))};et.displayName="Dialog";const vn=()=>$t()&&window.document.documentElement,Be=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:o}=a.useContext(ie);return p.createElement(ue,Object.assign({onClick:o},e),t)},Le=()=>{const{confirmLoading:e,okButtonProps:t,okType:o,okTextLocale:n,onOk:r}=a.useContext(ie);return p.createElement(ue,Object.assign({},wt(o),{loading:e,onClick:r},t),n)};function tt(e,t){return p.createElement("span",{className:`${e}-close-x`},t||p.createElement(Ue,{className:`${e}-close-icon`}))}const nt=e=>{const{okText:t,okType:o="primary",cancelText:n,confirmLoading:r,onOk:u,onCancel:f,okButtonProps:m,cancelButtonProps:c,footer:v}=e,[i]=Se("Modal",qe()),g=t||(i==null?void 0:i.okText),d=n||(i==null?void 0:i.cancelText),b={confirmLoading:r,okButtonProps:m,cancelButtonProps:c,okTextLocale:g,cancelTextLocale:d,okType:o,onOk:u,onCancel:f},$=p.useMemo(()=>b,K(Object.values(b)));let h;return typeof v=="function"||typeof v>"u"?(h=p.createElement(p.Fragment,null,p.createElement(Be,null),p.createElement(Le,null)),typeof v=="function"&&(h=v(h,{OkBtn:Le,CancelBtn:Be})),h=p.createElement(Qe,{value:$},h)):h=v,p.createElement(jt,{disabled:!1},h)};function Fe(e){return{position:e,inset:0}}const Cn=e=>{const{componentCls:t,antCls:o}=e;return[{[`${t}-root`]:{[`${t}${o}-zoom-enter, ${t}${o}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${o}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Fe("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Fe("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:sn(e)}]},hn=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${I(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},It(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${I(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:I(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},Tt(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${I(e.borderRadiusLG)} ${I(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${I(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},bn=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},xn=e=>{const{componentCls:t}=e,o=Nt(e);delete o.xs;const n=Object.keys(o).map(r=>({[`@media (min-width: ${I(o[r])})`]:{width:`var(--${t.replace(".","")}-${r}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat(K(n))}}},ot=e=>{const t=e.padding,o=e.fontSizeHeading5,n=e.lineHeightHeading5;return Et(e,{modalHeaderHeight:e.calc(e.calc(n).mul(o).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},at=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${I(e.paddingMD)} ${I(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${I(e.padding)} ${I(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${I(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${I(e.paddingXS)} ${I(e.padding)}`:0,footerBorderTop:e.wireframe?`${I(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${I(e.borderRadiusLG)} ${I(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${I(e.padding*2)} ${I(e.padding*2)} ${I(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),rt=Ot("Modal",e=>{const t=ot(e);return[hn(t),bn(t),Cn(t),Pt(t,"zoom"),xn(t)]},at,{unitless:{titleLineHeight:!0}});var yn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};let xe;const pn=e=>{xe={x:e.pageX,y:e.pageY},setTimeout(()=>{xe=null},100)};vn()&&document.documentElement.addEventListener("click",pn,!0);const lt=e=>{const{prefixCls:t,className:o,rootClassName:n,open:r,wrapClassName:u,centered:f,getContainer:m,focusTriggerAfterClose:c=!0,style:v,visible:i,width:g=520,footer:d,classNames:b,styles:$,children:h,loading:C,confirmLoading:y,zIndex:x,mousePosition:O,onOk:j,onCancel:P}=e,w=yn(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel"]),{getPopupContainer:l,getPrefixCls:S,direction:T,modal:E}=a.useContext(fe),G=W=>{y||P==null||P(W)},J=W=>{j==null||j(W)},z=S("modal",t),F=S(),D=Xe(z),[q,U,Y]=rt(z,D),oe=M(u,{[`${z}-centered`]:f??(E==null?void 0:E.centered),[`${z}-wrap-rtl`]:T==="rtl"}),k=d!==null&&!C?a.createElement(nt,Object.assign({},e,{onOk:J,onCancel:G})):null,[Z,L,ae]=Rt(Oe(e),Oe(E),{closable:!0,closeIcon:a.createElement(Ue,{className:`${z}-close-icon`}),closeIconRender:W=>tt(z,W)}),ne=Mt(`.${z}-content`),[ge,ve]=zt("Modal",x),[re,X]=a.useMemo(()=>g&&typeof g=="object"?[void 0,g]:[g,void 0],[g]),le=a.useMemo(()=>{const W={};return X&&Object.keys(X).forEach(ce=>{const ee=X[ce];ee!==void 0&&(W[`--${z}-${ce}-width`]=typeof ee=="number"?`${ee}px`:ee)}),W},[X]);return q(a.createElement(Bt,{form:!0,space:!0},a.createElement(Lt.Provider,{value:ve},a.createElement(et,Object.assign({width:re},w,{zIndex:ge,getContainer:m===void 0?l:m,prefixCls:z,rootClassName:M(U,n,Y,D),footer:k,visible:r??i,mousePosition:O??xe,onClose:G,closable:Z&&{disabled:ae,closeIcon:L},closeIcon:L,focusTriggerAfterClose:c,transitionName:me(F,"zoom",e.transitionName),maskTransitionName:me(F,"fade",e.maskTransitionName),className:M(U,o,E==null?void 0:E.className),style:Object.assign(Object.assign(Object.assign({},E==null?void 0:E.style),v),le),classNames:Object.assign(Object.assign(Object.assign({},E==null?void 0:E.classNames),b),{wrapper:M(oe,b==null?void 0:b.wrapper)}),styles:Object.assign(Object.assign({},E==null?void 0:E.styles),$),panelRef:ne}),C?a.createElement(Ft,{active:!0,title:!1,paragraph:{rows:4},className:`${z}-body-skeleton`}):h))))},Sn=e=>{const{componentCls:t,titleFontSize:o,titleLineHeight:n,modalConfirmIconSize:r,fontSize:u,lineHeight:f,modalTitleHeight:m,fontHeight:c,confirmBodyPadding:v}=e,i=`${t}-confirm`;return{[i]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${i}-body-wrapper`]:Object.assign({},Ht()),[`&${t} ${t}-body`]:{padding:v},[`${i}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:r,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(r).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(m).sub(r).equal()).div(2).equal()}},[`${i}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${I(e.marginSM)})`},[`${e.iconCls} + ${i}-paragraph`]:{maxWidth:`calc(100% - ${I(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${i}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:o,lineHeight:n},[`${i}-content`]:{color:e.colorText,fontSize:u,lineHeight:f},[`${i}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${i}-error ${i}-body > ${e.iconCls}`]:{color:e.colorError},[`${i}-warning ${i}-body > ${e.iconCls},
        ${i}-confirm ${i}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${i}-info ${i}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${i}-success ${i}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},$n=Dt(["Modal","confirm"],e=>{const t=ot(e);return[Sn(t)]},at,{order:-1e3});var wn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};function it(e){const{prefixCls:t,icon:o,okText:n,cancelText:r,confirmPrefixCls:u,type:f,okCancel:m,footer:c,locale:v}=e,i=wn(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let g=o;if(!o&&o!==null)switch(f){case"info":g=a.createElement(qt,null);break;case"success":g=a.createElement(Gt,null);break;case"error":g=a.createElement(Vt,null);break;default:g=a.createElement(_t,null)}const d=m??f==="confirm",b=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[$]=Se("Modal"),h=v||$,C=n||(d?h==null?void 0:h.okText:h==null?void 0:h.justOkText),y=r||(h==null?void 0:h.cancelText),x=Object.assign({autoFocusButton:b,cancelTextLocale:y,okTextLocale:C,mergedOkCancel:d},i),O=a.useMemo(()=>x,K(Object.values(x))),j=a.createElement(a.Fragment,null,a.createElement(Ne,null),a.createElement(Re,null)),P=e.title!==void 0&&e.title!==null,w=`${u}-body`;return a.createElement("div",{className:`${u}-body-wrapper`},a.createElement("div",{className:M(w,{[`${w}-has-title`]:P})},g,a.createElement("div",{className:`${u}-paragraph`},P&&a.createElement("span",{className:`${u}-title`},e.title),a.createElement("div",{className:`${u}-content`},e.content))),c===void 0||typeof c=="function"?a.createElement(Qe,{value:O},a.createElement("div",{className:`${u}-btns`},typeof c=="function"?c(j,{OkBtn:Re,CancelBtn:Ne}):j)):c,a.createElement($n,{prefixCls:t}))}const jn=e=>{const{close:t,zIndex:o,maskStyle:n,direction:r,prefixCls:u,wrapClassName:f,rootPrefixCls:m,bodyStyle:c,closable:v=!1,onConfirm:i,styles:g}=e,d=`${u}-confirm`,b=e.width||416,$=e.style||{},h=e.mask===void 0?!0:e.mask,C=e.maskClosable===void 0?!1:e.maskClosable,y=M(d,`${d}-${e.type}`,{[`${d}-rtl`]:r==="rtl"},e.className),[,x]=At(),O=a.useMemo(()=>o!==void 0?o:x.zIndexPopupBase+Wt,[o,x]);return a.createElement(lt,Object.assign({},e,{className:y,wrapClassName:M({[`${d}-centered`]:!!e.centered},f),onCancel:()=>{t==null||t({triggerCancel:!0}),i==null||i(!1)},title:"",footer:null,transitionName:me(m||"","zoom",e.transitionName),maskTransitionName:me(m||"","fade",e.maskTransitionName),mask:h,maskClosable:C,style:$,styles:Object.assign({body:c,mask:n},g),width:b,zIndex:O,closable:v}),a.createElement(it,Object.assign({},e,{confirmPrefixCls:d})))},st=e=>{const{rootPrefixCls:t,iconPrefixCls:o,direction:n,theme:r}=e;return a.createElement(Ke,{prefixCls:t,iconPrefixCls:o,direction:n,theme:r},a.createElement(jn,Object.assign({},e)))},te=[];let ct="";function dt(){return ct}const On=e=>{var t,o;const{prefixCls:n,getContainer:r,direction:u}=e,f=qe(),m=a.useContext(fe),c=dt()||m.getPrefixCls(),v=n||`${c}-modal`;let i=r;return i===!1&&(i=void 0),p.createElement(st,Object.assign({},e,{rootPrefixCls:c,prefixCls:v,iconPrefixCls:m.iconPrefixCls,theme:m.theme,direction:u??m.direction,locale:(o=(t=m.locale)===null||t===void 0?void 0:t.Modal)!==null&&o!==void 0?o:f,getContainer:i}))};function se(e){const t=Ut(),o=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:c,open:!0}),r,u;function f(){for(var i,g=arguments.length,d=new Array(g),b=0;b<g;b++)d[b]=arguments[b];if(d.some(C=>C==null?void 0:C.triggerCancel)){var h;(i=e.onCancel)===null||i===void 0||(h=i).call.apply(h,[e,()=>{}].concat(K(d.slice(1))))}for(let C=0;C<te.length;C++)if(te[C]===c){te.splice(C,1);break}u()}function m(i){clearTimeout(r),r=setTimeout(()=>{const g=t.getPrefixCls(void 0,dt()),d=t.getIconPrefixCls(),b=t.getTheme(),$=p.createElement(On,Object.assign({},i));u=Xt()(p.createElement(Ke,{prefixCls:g,iconPrefixCls:d,theme:b},t.holderRender?t.holderRender($):$),o)})}function c(){for(var i=arguments.length,g=new Array(i),d=0;d<i;d++)g[d]=arguments[d];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),f.apply(this,g)}}),n.visible&&delete n.visible,m(n)}function v(i){typeof i=="function"?n=i(n):n=Object.assign(Object.assign({},n),i),m(n)}return m(n),te.push(c),{destroy:c,update:v}}function ut(e){return Object.assign(Object.assign({},e),{type:"warning"})}function mt(e){return Object.assign(Object.assign({},e),{type:"info"})}function ft(e){return Object.assign(Object.assign({},e),{type:"success"})}function gt(e){return Object.assign(Object.assign({},e),{type:"error"})}function vt(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Pn(e){let{rootPrefixCls:t}=e;ct=t}var En=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const In=(e,t)=>{var o,{afterClose:n,config:r}=e,u=En(e,["afterClose","config"]);const[f,m]=a.useState(!0),[c,v]=a.useState(r),{direction:i,getPrefixCls:g}=a.useContext(fe),d=g("modal"),b=g(),$=()=>{var x;n(),(x=c.afterClose)===null||x===void 0||x.call(c)},h=function(){var x;m(!1);for(var O=arguments.length,j=new Array(O),P=0;P<O;P++)j[P]=arguments[P];if(j.some(S=>S==null?void 0:S.triggerCancel)){var l;(x=c.onCancel)===null||x===void 0||(l=x).call.apply(l,[c,()=>{}].concat(K(j.slice(1))))}};a.useImperativeHandle(t,()=>({destroy:h,update:x=>{v(O=>Object.assign(Object.assign({},O),x))}}));const C=(o=c.okCancel)!==null&&o!==void 0?o:c.type==="confirm",[y]=Se("Modal",Kt.Modal);return a.createElement(st,Object.assign({prefixCls:d,rootPrefixCls:b},c,{close:h,open:f,afterClose:$,okText:c.okText||(C?y==null?void 0:y.okText:y==null?void 0:y.justOkText),direction:c.direction||i,cancelText:c.cancelText||(y==null?void 0:y.cancelText)},u))},Tn=a.forwardRef(In);let De=0;const Nn=a.memo(a.forwardRef((e,t)=>{const[o,n]=an();return a.useImperativeHandle(t,()=>({patchElement:n}),[]),a.createElement(a.Fragment,null,o)}));function Rn(){const e=a.useRef(null),[t,o]=a.useState([]);a.useEffect(()=>{t.length&&(K(t).forEach(f=>{f()}),o([]))},[t]);const n=a.useCallback(u=>function(m){var c;De+=1;const v=a.createRef();let i;const g=new Promise(C=>{i=C});let d=!1,b;const $=a.createElement(Tn,{key:`modal-${De}`,config:u(m),ref:v,afterClose:()=>{b==null||b()},isSilent:()=>d,onConfirm:C=>{i(C)}});return b=(c=e.current)===null||c===void 0?void 0:c.patchElement($),b&&te.push(b),{destroy:()=>{function C(){var y;(y=v.current)===null||y===void 0||y.destroy()}v.current?C():o(y=>[].concat(K(y),[C]))},update:C=>{function y(){var x;(x=v.current)===null||x===void 0||x.update(C)}v.current?y():o(x=>[].concat(K(x),[y]))},then:C=>(d=!0,g.then(C))}},[]);return[a.useMemo(()=>({info:n(mt),success:n(ft),error:n(gt),warning:n(ut),confirm:n(vt)}),[]),a.createElement(Nn,{key:"modal-holder",ref:e})]}var Mn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const zn=e=>{const{prefixCls:t,className:o,closeIcon:n,closable:r,type:u,title:f,children:m,footer:c}=e,v=Mn(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:i}=a.useContext(fe),g=i(),d=t||i("modal"),b=Xe(g),[$,h,C]=rt(d,b),y=`${d}-confirm`;let x={};return u?x={closable:r??!1,title:"",footer:"",children:a.createElement(it,Object.assign({},e,{prefixCls:d,confirmPrefixCls:y,rootPrefixCls:g,content:m}))}:x={closable:r??!0,title:f,footer:c!==null&&a.createElement(nt,Object.assign({},e)),children:m},$(a.createElement(Ye,Object.assign({prefixCls:d,className:M(h,`${d}-pure-panel`,u&&y,u&&`${y}-${u}`,o,C,b)},v,{closeIcon:tt(d,n),closable:r},x)))},Bn=Zt(zn);function Ct(e){return se(ut(e))}const A=lt;A.useModal=Rn;A.info=function(t){return se(mt(t))};A.success=function(t){return se(ft(t))};A.error=function(t){return se(gt(t))};A.warning=Ct;A.warn=Ct;A.confirm=function(t){return se(vt(t))};A.destroyAll=function(){for(;te.length;){const t=te.pop();t&&t()}};A.config=Pn;A._InternalPanelDoNotUseOrYouWillBeFired=Bn;var Ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},ye.apply(this,arguments)}const Fn=(e,t)=>a.createElement(Qt,ye({},e,{ref:t,icon:Ln})),He=a.forwardRef(Fn),{Option:Ae}=be,{Search:We}=Jt,{Text:R,Title:Dn}=kt,qn=({problemId:e,userId:t,showUserColumn:o=!0,showProblemColumn:n=!0})=>{const[r,u]=a.useState([]),[f,m]=a.useState(!1),[c,v]=a.useState({current:1,pageSize:10,total:0,totalPages:0}),[i,g]=a.useState({problem:e,user:t}),[d,b]=a.useState(null),[$,h]=a.useState(!1),C=async(l={})=>{try{m(!0);const S={...i,...l},T=await _.getSubmissions(S);u(T.items),v({current:T.current,pageSize:T.pageSize,total:T.total,totalPages:T.totalPages})}catch(S){Pe.error(S.message||"Failed to fetch submissions")}finally{m(!1)}};a.useEffect(()=>{C()},[e,t]);const y=(l,S)=>{const T={current:l,pageSize:S||c.pageSize};v(E=>({...E,...T})),C(T)},x=(l,S)=>{const T={...i,[l]:S};g(T),C({...T,current:1})},O=async l=>{try{const S=await _.getSubmission(l._id);b(S),h(!0)}catch(S){Pe.error(S.message||"Failed to fetch submission details")}},j=l=>l<1e3?`${l}ms`:`${(l/1e3).toFixed(2)}s`,P=l=>l<1024?`${l}KB`:`${(l/1024).toFixed(2)}MB`,w=[{title:"ID",dataIndex:"_id",key:"id",width:100,render:l=>s.jsx(R,{code:!0,style:{fontSize:"12px"},children:l.slice(-8)})},...o?[{title:"User",dataIndex:["user","handle"],key:"user",width:120,render:l=>s.jsx(R,{strong:!0,children:l})}]:[],...n?[{title:"Problem",dataIndex:"problem",key:"problem",width:200,render:l=>s.jsxs(H,{direction:"vertical",size:0,children:[s.jsx(R,{code:!0,children:l.code}),s.jsx(R,{type:"secondary",style:{fontSize:"12px"},children:l.title})]})}]:[],{title:"Language",dataIndex:"language",key:"language",width:100,render:l=>s.jsx(de,{children:_.getLanguageDisplayName(l)}),filterDropdown:()=>s.jsx("div",{style:{padding:8},children:s.jsx(be,{placeholder:"Filter by language",style:{width:180},allowClear:!0,onChange:l=>x("language",l),children:Object.values(en).map(l=>s.jsx(Ae,{value:l,children:_.getLanguageDisplayName(l)},l))})}),filterIcon:s.jsx(He,{})},{title:"Verdict",dataIndex:"verdict",key:"verdict",width:150,render:l=>s.jsx(de,{color:_.getVerdictColor(l),children:_.getVerdictText(l)}),filterDropdown:()=>s.jsx("div",{style:{padding:8},children:s.jsx(be,{placeholder:"Filter by verdict",style:{width:180},allowClear:!0,onChange:l=>x("verdict",l),children:Object.values(tn).map(l=>s.jsx(Ae,{value:l,children:_.getVerdictText(l)},l))})}),filterIcon:s.jsx(He,{})},{title:"Time",dataIndex:"timeUsedMs",key:"time",width:100,render:l=>s.jsxs(H,{children:[s.jsx(Ie,{}),s.jsx(R,{children:j(l)})]})},{title:"Memory",dataIndex:"memoryUsedKb",key:"memory",width:100,render:l=>s.jsxs(H,{children:[s.jsx(Te,{}),s.jsx(R,{children:P(l)})]})},{title:"Test Cases",key:"testCases",width:100,render:(l,S)=>s.jsxs(R,{children:[S.testCasesPassed,"/",S.totalTestCases]})},{title:"Submitted",dataIndex:"createdAt",key:"createdAt",width:120,render:l=>s.jsx(R,{type:"secondary",children:new Date(l).toLocaleDateString()})},{title:"Actions",key:"actions",width:80,render:(l,S)=>s.jsx(ue,{type:"link",icon:s.jsx(on,{}),onClick:()=>O(S),size:"small",children:"View"})}];return s.jsxs(s.Fragment,{children:[s.jsx(he,{title:s.jsxs(H,{children:[s.jsx(Ee,{}),s.jsx(Dn,{level:4,style:{margin:0},children:"Submissions"})]}),extra:s.jsx(ue,{icon:s.jsx(Yt,{}),onClick:()=>C(),loading:f,children:"Refresh"}),children:s.jsxs(H,{direction:"vertical",style:{width:"100%"},size:"middle",children:[s.jsxs(H,{wrap:!0,children:[o&&s.jsx(We,{placeholder:"Search by user handle",style:{width:200},onSearch:l=>x("user",l||void 0),allowClear:!0}),n&&s.jsx(We,{placeholder:"Search by problem code",style:{width:200},onSearch:l=>x("problem",l||void 0),allowClear:!0})]}),s.jsx(nn,{columns:w,dataSource:r,rowKey:"_id",loading:f,pagination:{current:c.current,pageSize:c.pageSize,total:c.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(l,S)=>`${S[0]}-${S[1]} of ${l} submissions`,onChange:y,onShowSizeChange:y},scroll:{x:1200},size:"small"})]})}),s.jsx(A,{title:s.jsxs(H,{children:[s.jsx(Ee,{}),s.jsx("span",{children:"Submission Details"})]}),open:$,onCancel:()=>h(!1),footer:null,width:800,children:d&&s.jsxs(H,{direction:"vertical",style:{width:"100%"},size:"middle",children:[s.jsxs(V,{bordered:!0,column:2,size:"small",children:[s.jsx(V.Item,{label:"Submission ID",children:s.jsx(R,{code:!0,children:d._id})}),s.jsx(V.Item,{label:"User",children:s.jsx(R,{strong:!0,children:d.user.handle})}),s.jsx(V.Item,{label:"Problem",children:s.jsxs(H,{direction:"vertical",size:0,children:[s.jsx(R,{code:!0,children:d.problem.code}),s.jsx(R,{type:"secondary",children:d.problem.title})]})}),s.jsx(V.Item,{label:"Language",children:s.jsx(de,{children:_.getLanguageDisplayName(d.language)})}),s.jsx(V.Item,{label:"Verdict",children:s.jsx(de,{color:_.getVerdictColor(d.verdict),children:_.getVerdictText(d.verdict)})}),s.jsx(V.Item,{label:"Execution Time",children:s.jsxs(H,{children:[s.jsx(Ie,{}),s.jsx(R,{children:j(d.timeUsedMs)})]})}),s.jsx(V.Item,{label:"Memory Used",children:s.jsxs(H,{children:[s.jsx(Te,{}),s.jsx(R,{children:P(d.memoryUsedKb)})]})}),s.jsx(V.Item,{label:"Test Cases",children:s.jsxs(R,{children:[d.testCasesPassed,"/",d.totalTestCases," passed"]})}),s.jsx(V.Item,{label:"Submitted At",span:2,children:s.jsx(R,{children:new Date(d.createdAt).toLocaleString()})})]}),d.errorMessage&&s.jsx(he,{title:"Error Message",size:"small",children:s.jsx(R,{type:"danger",code:!0,children:d.errorMessage})}),s.jsx(he,{title:"Source Code",size:"small",children:s.jsx("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",overflow:"auto",maxHeight:"400px",fontSize:"13px",fontFamily:"monospace"},children:d.code})})]})})]})};export{qn as default};
